<!--
Filename: investment_likelihood_calculator.html
Purpose: A stand-alone HTML page to calculate investment likelihood based on specified criteria.
Description: This app allows users to create investors, save their inputs locally, and calculate the investment likelihood. Users can also copy the results table to their clipboard.
Author: Troy Kelly
Contact: troy@aperim.com
Code history:
- Initial creation: 18 September 2024
- Bootstrap integration: 18 September 2024
- Added local storage and copy functionality: 18 September 2024
- Added fixes and improvements: 18 September 2024
- User experience enhancements: 18 September 2024
-->

<!DOCTYPE html>
<html lang="en-AU">

<head>
    <meta charset="UTF-8" />
    <title>Investment Likelihood Calculator</title>
    <!-- Responsive Meta Tag -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css"
        integrity="sha512-jnSuA4Ss2PkkikSOLtYs8BlYIeeIK1h99ty4YfvRPAlzr377vr3CXDb7sb7eEEBYjDtcYj+AjBH3FLv5uSJuXg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap-utilities.min.css"
        integrity="sha512-4ocAKAxnrkSm7MvkkF1D435kko3/HWWvoi/U9+7+ln94B/U01Mggca05Pm3W59BIv3abl0U3MPdygAPLo5aeqg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap-grid.min.css"
        integrity="sha512-i1b/nzkVo97VN5WbEtaPebBG8REvjWeqNclJ6AItj7msdVcaveKrlIIByDpvjk5nwHjXkIqGZscVxOrTb9tsMA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" />
    <style>
        /* Custom styles */
        body {
            background-color: #f8f9fa;
        }

        h1 {
            color: #2c3e50;
            margin-top: 20px;
            margin-bottom: 20px;
        }

        label {
            font-weight: bold;
        }

        #results {
            font-weight: bold;
            font-size: 1.2rem;
        }

        .tooltip-inner {
            max-width: 300px;
            text-align: left;
        }

        .warning-text {
            font-size: 0.9rem;
            color: #dc3545;
        }

        .profile-card {
            cursor: pointer;
            transition: transform 0.2s;
        }

        .profile-card:hover {
            transform: scale(1.05);
        }

        .selected-profile {
            border: 2px solid #007bff;
        }
    </style>
    <!-- Favicons and manifest files -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=964">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=964">
    <link rel="icon" type="image/png" sizes="194x194" href="/favicon-194x194.png?v=964">
    <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png?v=964">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=964">
    <link rel="manifest" href="/site.webmanifest?v=964">
    <link rel="mask-icon" href="/safari-pinned-tab.svg?v=964" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon.ico?v=964">
    <meta name="apple-mobile-web-app-title" content="Investor Calc">
    <meta name="application-name" content="Investor Calc">
    <meta name="msapplication-TileColor" content="#553921">
    <meta name="msapplication-TileImage" content="/mstile-144x144.png?v=964">
    <meta name="theme-color" content="#ffffff">
</head>

<body>
    <div class="container">
        <h1 class="text-center">Investment Likelihood Calculator</h1>

        <!-- Scoring Guide Button -->
        <div class="text-center mb-4">
            <button id="scoringGuideButton" class="btn btn-info btn-lg" data-bs-toggle="modal"
                data-bs-target="#scoringGuideModal">
                <i class="fas fa-info-circle"></i> Scoring Guide
            </button>
        </div>

        <div id="app">
            <!-- Warning message -->
            <div class="alert alert-warning" role="alert">
                <strong>Note:</strong> All data is stored locally in your browser. This data is not portable and is not
                seen by our servers.
            </div>
            <!-- Investor management -->
            <div class="mb-4">
                <label for="investorSelect" class="form-label">Select Investor:</label>
                <div class="input-group mb-2">
                    <select id="investorSelect" class="form-select"></select>
                    <button id="newInvestorButton" class="btn btn-outline-secondary" type="button">New Investor</button>
                    <button id="deleteInvestorButton" class="btn btn-outline-danger" type="button">Delete
                        Investor</button>
                </div>
                <!-- Image preview -->
                <div id="investorImageContainer" class="mb-2">
                    <img id="investorImage" src="" alt="Investor Image" class="img-thumbnail"
                        style="max-width: 200px; display: none;" />
                </div>
            </div>
            <!-- Calculation profile selection -->
            <div class="mb-4">
                <label class="form-label">Select Calculation Profile:</label>
                <div id="profileCards" class="row row-cols-1 row-cols-md-2 g-3">
                    <!-- Profile cards will be populated here -->
                </div>
            </div>
            <!-- Criteria table -->
            <div class="table-responsive">
                <table id="criteriaTable" class="table table-striped table-bordered">
                    <thead class="table-light">
                        <tr>
                            <th scope="col">Metric</th>
                            <th scope="col">Description</th>
                            <th scope="col">Weight (%)</th>
                            <th scope="col">Score (1-5)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Criteria will be populated here -->
                    </tbody>
                </table>
            </div>
            <!-- Calculate and Copy buttons -->
            <div class="d-grid gap-2 mb-4">
                <button id="calculateButton" class="btn btn-success btn-lg">Calculate</button>
                <button id="copyButton" class="btn btn-primary btn-lg">Copy Results to Clipboard</button>
            </div>
            <!-- Results -->
            <div id="results" class="mb-5">
                <p>Total: <span id="totalScore">0</span></p>
                <p>Percentage Likelihood: <span id="percentageLikelihood">0%</span></p>
            </div>
            <!-- Investors List -->
            <div class="mb-5">
                <label class="form-label">Stored Investors:</label>
                <ul id="investorList" class="list-group">
                    <!-- Investor items will be populated here -->
                </ul>
            </div>
        </div>
    </div>

    <!-- Scoring Guide Modal -->
    <div class="modal fade" id="scoringGuideModal" tabindex="-1" aria-labelledby="scoringGuideModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 id="scoringGuideModalLabel" class="modal-title">Scoring Guide</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Please score each criterion based on the following scale:</p>
                    <ul>
                        <li><strong>1 - Poor:</strong> Fails to meet expectations in this area.</li>
                        <li><strong>2 - Fair:</strong> Below average performance; improvements needed.</li>
                        <li><strong>3 - Good:</strong> Meets basic expectations; satisfactory performance.</li>
                        <li><strong>4 - Very Good:</strong> Exceeds expectations; strong performance.</li>
                        <li><strong>5 - Excellent:</strong> Far exceeds expectations; outstanding performance.</li>
                    </ul>
                    <p>Use this guide to objectively assess each criterion for the investment likelihood calculation.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Investor Edit Modal -->
    <div class="modal fade" id="investorEditModal" tabindex="-1" aria-labelledby="investorEditModalLabel"
        aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 id="investorEditModalLabel" class="modal-title">Edit Investor</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="investorEditForm">
                    <div class="modal-body">
                        <!-- Investor Image Upload -->
                        <div class="mb-3">
                            <label for="modalInvestorImageInput" class="form-label">Upload Investor Image:</label>
                            <input type="file" id="modalInvestorImageInput" accept="image/*" class="form-control">
                        </div>
                        <!-- Image Preview -->
                        <div class="mb-3">
                            <img id="modalInvestorImagePreview" src="" alt="Investor Image" class="img-thumbnail"
                                style="max-width: 200px; display: none;" />
                        </div>
                        <!-- Additional investor editing fields can be added here -->
                    </div>
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Save Changes</button>
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Bootstrap Bundle JS (includes Popper) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/js/bootstrap.bundle.min.js"
        integrity="sha512-7Pi/otdlbbCR+LnW+F7PwFcSDJOuUJB3OxtEHbg4vSMvzvJjde4Po1v4BR9Gdc9aXNUNFVUY+SK51wWT8WF0Gg=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <!-- Custom JavaScript -->
    <script src="app.js"></script>
</body>

</html>